"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toDiffReadySwagger2Schema = void 0;
const to_diff_compatible_json_schema_1 = require("../common/to-diff-compatible-json-schema");
const getReferenceSources = (spec) => spec.definitions || {};
exports.toDiffReadySwagger2Schema = (schema, spec) => {
    const compatibleReferenceSources = to_diff_compatible_json_schema_1.toDiffCompatibleJsonSchemaMap(getReferenceSources(spec));
    const compatibleSchema = to_diff_compatible_json_schema_1.toDiffCompatibleJsonSchema(schema);
    return Object.assign(Object.assign({}, compatibleSchema), { definitions: compatibleReferenceSources });
};
